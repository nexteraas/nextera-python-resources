from bokeh.protocol import pull_doc_reply
from sklearn.metrics import mean_squared_error, mean_absolute_error
from sklearn.svm import SVR
model = SVR(kernel="rbf", C=15, epsilon=0.1, gamma="auto")
#model = SVR(kernel="poly")
#model = SVR(kernel="linear")
tmp={}

import pandas as pd
#tmp['Name']=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
tmp['SCM_pos_CDRH3']=[90.800598, 37.862411, 46.540298, 116.244614, 29.513489, 9.750195, 27.423717, 13.829844, 26.37035, 64.666084, 94.528427, 77.493057, 82.053062, 38.202831, 58.945095, 16.574047, 136.593094, 91.028343, 60.417747, 47.872337, 154.704285]
tmp['SCM_neg_CDRH2']=[5.784222, 29.755426, 32.13203, 33.819401, 62.519165, 29.24341, 75.179405, 23.963966, 26.291437, 6.267886, 6.006984, 11.21645, 12.853209, 22.406307, 27.982534, 19.112421, 24.485298, 62.568203, 81.952843, 15.313806, 11.84378]
tmp['SCM_neg_Fv']=[731.877014, 1039.555054, 1255.946777, 1018.925354, 1185.106079, 1059.812378, 1227.368652, 881.629883, 961.931335, 699.199097, 715.251892, 648.29834, 945.149597, 925.632507, 558.547546, 808.568237, 774.330078, 1132.859741, 913.114685, 1251.18811, 744.708923]
X = pd.DataFrame(tmp)
y=[0.534, 0.628, 0.416, 3.171, 0.754, 0.573, 0.471, 0.463, 1.209, 0.455, 0.55, 0.605, 1.892, 0.573, 0.636, 0.667, 1.476, 0.597, 0.432, 0.534, 1.028]
model.fit(X, y)
predictions = model.predict(X)
from sklearn.metrics import r2_score
r2=r2_score(y, predictions)
print(r2)
mse =  mean_squared_error(y, predictions)
print(mse)

tmp['SCM_pos_CDRH3']=[71.157303, 40.906956, 6.961896, 42.794785, 53.671585, 21.063219, 7.180388, 32.74181, 32.689217, 48.923122]
tmp['SCM_neg_CDRH2']=[4.162421, 48.7715, 54.82925, 251.81604, 4.275013, 48.461372, 57.882549, 47.917423, 40.479816, 1.713547]
tmp['SCM_neg_Fv']=[838.878601, 1784.661377, 1827.536865, 1755.206177, 1323.360107, 1222.883911, 2026.412109, 1264.77356, 1077.000732, 1371.644409]
# tmp['SCM_pos_CDRH3']=[116.244614, 40.906956, 6.961896, 42.794785, 53.671585, 21.063219, 7.180388, 32.74181, 32.689217, 48.923122]
# tmp['SCM_neg_CDRH2']=[33.819401, 48.7715, 54.82925, 251.81604, 4.275013, 48.461372, 57.882549, 47.917423, 40.479816, 1.713547]
# tmp['SCM_neg_Fv']=[1018.925354, 1784.661377, 1827.536865, 1755.206177, 1323.360107, 1222.883911, 2026.412109, 1264.77356, 1077.000732, 1371.644409]
# tmp['SCM_pos_CDRH3']=[111, 40.906956, 6.961896, 42.794785, 53.671585, 21.063219, 7.180388, 32.74181, 32.689217, 48.923122]
# tmp['SCM_neg_CDRH2']=[33, 48.7715, 54.82925, 251.81604, 4.275013, 48.461372, 57.882549, 47.917423, 40.479816, 1.713547]
# tmp['SCM_neg_Fv']=[1018, 1784.661377, 1827.536865, 1755.206177, 1323.360107, 1222.883911, 2026.412109, 1264.77356, 1077.000732, 1371.644409]

X2 = pd.DataFrame(tmp)
preds2=model.predict(X2)
print(preds2)
